<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Courses</title>
    <head>
        <style>
            body {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }

            table {
                border-collapse: collapse;
                width: 90%;
                margin-top: 15px;
            }

            th, td {
                text-align: left;
                padding: 12px;
            }

            tr:nth-child(even){background-color: #f2f2f2}

            th {
                background-color: black;
                color: white;
            }

            .form {
                margin-top: 20px;
                justify-self: center ;
                width: 50%;
                display: flex;
                justify-content: space-around;
                align-items: center;
                align-self: flex-start;
                margin-left: 40px;
            }

            .input {
                height: 30px;
            }

            .dropdown {
                width: 75px;
                height: 35px;
            }
            .inputs {
                width: 60%;
                display: flex;
                justify-content: space-around;
            }
            .user {
                margin-left: auto;
                width: 11%;
                display: flex;
                justify-content: space-around;
            }
            h2 {
                margin-top: 50px;
            }
            .buttons {
                display: flex;
                width: 20%;
                justify-content: space-around;
                margin-top: 50px;
            }
        </style>
        <meta charset="utf-8">
    </head>
</head>
<body>
    <div class="user">
        <p>Current User: </p><p id="username"></p>
    </div>
    <h2>Enrolled Courses</h2>
    <table>
        <tr><th>Course</th><th>View Assignments</th></tr> 
        {{#each courses}}
        <div>
            <tr>
            <td>{{ this.name }}</td>
            <form action="/api/view_assignments/{{this.course_id}}" method="get">
                <td> <button type="submit">View Assignments</button></td>
            </form>
            </tr>
        </div>
        {{else}}
        <p> No courses</p>
        {{/each}}
    </table>

    <div class="buttons">
        <form method="post" action="/api/logout"><input type="submit" value="Sign Out"/></form>
    </div>
</body>
<script>
    let id = document.getElementById("username");
    let cookie = document.cookie;

    let list = cookie.split("=")
    //id.innerHTML = list[1];
</script>
</html>